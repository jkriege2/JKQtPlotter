<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Tool (JKQTMathText): Command-Line Utility jkqtmathtext_render</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_j_k_q_t_math_text_render_cmd_line_tool.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tool (JKQTMathText): Command-Line Utility jkqtmathtext_render </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_tools_2jkqtmathtext__render_2_r_e_a_d_m_e"></a></p>
<p><a class="el" href="class_j_k_q_t_math_text.html" title="this class parses a mathematical markup string and can then draw the contained text/equation onto a Q...">JKQTMathText</a> is a hand-written LaTeX-renderer for Qt (implemented in native C++, using Qt). It supports a large set of standard LaTeX markup and can render it to a QPainter.</p>
<p>This project (see <span class="tt">./examples/jkqtmathtext_render/</span>) is a command-line utility that accepts a LaTeX markup string and a filename for the generated image. It then renders the string into the image. The source code of the main application can be found in <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/jkqtmathtext_render/jkqtmathtext_render.cpp"><span class="tt">jkqtmathtext_render.cpp</span></a>. The major rendering portion look like this:</p>
<p>First we generate dummy QPixmap that is needed to use the QPainter, that is required for determining the size of the rendering.</p>
<div class="fragment"><div class="line">QPixmap pix(10,10);</div>
</div><!-- fragment --><p>Now we create a <a class="el" href="class_j_k_q_t_math_text.html" title="this class parses a mathematical markup string and can then draw the contained text/equation onto a Q...">JKQTMathText</a> object and configure it</p>
<div class="fragment"><div class="line">QPainter painter;</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_math_text.html">JKQTMathText</a> mathText;</div>
<div class="line"><span class="keywordflow">if</span> (useXITS) mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#a8ac20f1e5cc31b54589e0b322f1b7991">useXITS</a>();</div>
<div class="line">mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#af231fd040caed5040c227dd3748ff899">setFontSize</a>(fontsize);</div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html"><div class="ttname"><a href="class_j_k_q_t_math_text.html">JKQTMathText</a></div><div class="ttdoc">this class parses a mathematical markup string and can then draw the contained text/equation onto a Q...</div><div class="ttdef"><b>Definition</b> jkqtmathtext.h:192</div></div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_a8ac20f1e5cc31b54589e0b322f1b7991"><div class="ttname"><a href="class_j_k_q_t_math_text.html#a8ac20f1e5cc31b54589e0b322f1b7991">JKQTMathText::useXITS</a></div><div class="ttdeci">bool useXITS(bool mathModeOnly=true, bool useAsFallbackSymbol=true)</div><div class="ttdoc">configures the class to use the XITS fonts in mathmode</div></div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_af231fd040caed5040c227dd3748ff899"><div class="ttname"><a href="class_j_k_q_t_math_text.html#af231fd040caed5040c227dd3748ff899">JKQTMathText::setFontSize</a></div><div class="ttdeci">void setFontSize(double __value)</div><div class="ttdoc">set the default font size in points</div></div>
</div><!-- fragment --><p>Now we parse some LaTeX code and thus generate its memory representation.</p>
<div class="fragment"><div class="line">mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#a33429d4f9fd09a5418995a0a2886c7cd">parse</a>(latex);</div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_a33429d4f9fd09a5418995a0a2886c7cd"><div class="ttname"><a href="class_j_k_q_t_math_text.html#a33429d4f9fd09a5418995a0a2886c7cd">JKQTMathText::parse</a></div><div class="ttdeci">bool parse(const QString &amp;markup, DefaultParserTypes markupType=DefaultParser, ParseOptions options=DefaultParseOptions)</div><div class="ttdoc">parse the given math markup string with a parser derived from markupType.</div></div>
</div><!-- fragment --><p>Finally we can generate a QImage with the output of the rendering algorithm and save it as a file.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> QImage pix=mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#a957367069dbd6d05b0e5a8902fa90d77">drawIntoImage</a>(drawBoxes, backgroundColor, sizeincrease);</div>
<div class="line">pix.save(outputFilename);</div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_a957367069dbd6d05b0e5a8902fa90d77"><div class="ttname"><a href="class_j_k_q_t_math_text.html#a957367069dbd6d05b0e5a8902fa90d77">JKQTMathText::drawIntoImage</a></div><div class="ttdeci">QImage drawIntoImage(bool drawBoxes=false, QColor backgroundColor=QColor(Qt::white), int sizeincrease=0, qreal devicePixelRatio=1.0, unsigned int resolution_dpi=96)</div><div class="ttdoc">render the last parse result into a QImage</div></div>
</div><!-- fragment --><p>calling this utility with the LaTeX code:</p>
<div class="fragment"><div class="line">&gt; jkqtmathtext_render &quot;$x_{1/2}=\frac{-b\pm\sqrt{b^2-4ac}}{2a}$&quot; jkqtmathtext_render_output.png</div>
</div><!-- fragment --><p>results in this output:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/jkqtmathtext_render_output.png" alt="jkqtmathtext_render_output" class="inline"/></p>
<p>The tool supports these command-line options:</p><ul>
<li><em>command-line mode</em>: call <span class="tt">jkqtmathtext_render LATEX OUTPUTFILE</span><ul>
<li>The extension of the <span class="tt">OUTPUTFILE</span> determines the file type. The tool supports <span class="tt">.png</span>, <span class="tt">.bmp</span>, <span class="tt">.jpg</span>, <span class="tt">.ppm</span>, <span class="tt">.xbm</span> and <span class="tt">.xpm</span></li>
</ul>
</li>
<li><em>file-mode</em>: call <span class="tt">jkqtmathtext_render --inputfile=INPUTFILE.jkmt --outputdir=OUTPUTDIR</span><ul>
<li>The file <span class="tt">INPUTFILE.jkmt</span> is a text file with several "render jobs", deparated by <span class="tt">---</span> lines.</li>
<li>The first line in each job defines the output filename (relative to <span class="tt">OUTPUTDIR</span>)</li>
<li>The second line is optional and contains a list of altered command-line options, e.g. <span class="tt">--fontsize=24 --fontmathroman=XITS</span>, Note however that only options concerning formatting are allowed, <span class="tt">--verbose</span> or the file/directory-options will not be processed!</li>
<li>The third and further lines is concatenated to form the LaTeX markup to be rendered.</li>
</ul>
</li>
<li>All modes support these command-line options:<ul>
<li><span class="tt">--verbose</span>: verbose output of the tool</li>
<li><span class="tt">--sizeincrease=SIZE_PIXELS</span>: set the width of the additional margin around the rendering result</li>
<li><span class="tt">--drawboxes</span>: flag that enables drawing of rectangles around each box</li>
<li><span class="tt">--font=FONT_SERIF</span>: sets text- and math-mode serif font to <span class="tt">FONT_SERIF</span></li>
<li><span class="tt">--font=FONT_SERIF,FONT_SANS</span>: sets text- and math-mode serif font to <span class="tt">FONT_SERIF</span> and sans font to <span class="tt">FONT_SANS</span></li>
<li><span class="tt">--font=FONT_TEXT_SERIF,FONT_TEXT_SANS,FONT_MATH_SERIF,FONT_MATH_SANS</span>: sets text- and math-mode serif font to <span class="tt">FONT_TEXT_SERIF</span> and <span class="tt">FONT_MATH_SERIF</span> and sans fonts to <span class="tt">FONT_TEXT_SANS</span> and <span class="tt">FONT_MATH_SANS</span></li>
<li><span class="tt">--font=...+XITS|STIX|ASANA</span>: set fonts as given above and then use XITS-/STIX- or ASANA-fonts for math-roman</li>
<li><span class="tt">--fontsize=SIZE_PT</span>: set the font-size in pt</li>
<li><span class="tt">--fontroman=FONT</span>: set the text-mode roman font</li>
<li><span class="tt">--fontsans=FONT</span>: set the text-mode sans font</li>
<li><span class="tt">--fontmathroman=FONT</span>: set the math-mode roman font</li>
<li><span class="tt">--fontmathsans=FONT</span>: set the math-mode sans font</li>
<li><span class="tt">--fontblackboard=FONT</span>: use the given font as blackboard-font and de-activate the simulate-feature</li>
<li><span class="tt">--fontblackboardmode=default|font_directly|simulate|unicode_or_font_directly|unicode_or_simulate</span>: use the given drawing mode for blackboard fonts</li>
<li><span class="tt">--fonttypewriter=FONT</span>: set the typewriter font</li>
<li><span class="tt">--fontscript=FONT</span>: set the script font</li>
<li><span class="tt">--fontcaligraphic=FONT</span>: set the caligraphic font</li>
<li><span class="tt">--fontfraktur=FONT</span>: set the fraktur font</li>
<li><span class="tt">--fontfallbacksymbol=FONT</span>: set the fallback symbol font, using unicode encoding</li>
<li><span class="tt">--fontfallbacksymbol_symbolencoding=FONT</span>: set the fallback symbol font, using WinSymbol encoding</li>
<li><span class="tt">--background=COLOR</span>: set the background color of the output image</li>
<li><span class="tt">--textcolor=COLOR</span>: set the text color of the output image </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
