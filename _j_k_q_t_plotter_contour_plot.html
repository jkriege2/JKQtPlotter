<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Example (JKQTPlotter): Contour Plots</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_j_k_q_t_plotter_contour_plot.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Example (JKQTPlotter): Contour Plots </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_examples_2contourplot_2_r_e_a_d_m_e"></a></p>
<p>This project (see <span class="tt">./examples/contourplot/</span>) shows how to draw contour plots with <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Drawing a Contour Plot</h1>
<p>The source code of the main application is (see <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/contourplot/contourplot.cpp"><span class="tt">contourplot.cpp</span></a> ).</p>
<p>First the electric potential from a quadrupole is calculated and stored in an image column inside the <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a>: </p><div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a>* ds=plot.getDatastore();</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> NX=500; <span class="comment">// image dimension in x-direction [pixels]</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> NY=500; <span class="comment">// image dimension in y-direction [pixels]</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> w=2.7e-6;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> dx=w/<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(NX);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> h=NY*dx;</div>
<div class="line"><span class="keywordtype">size_t</span> cPotential=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#a3ce797890c214db3794bca76ffefef8e">addImageColumn</a>(NX, NY, <span class="stringliteral">&quot;imagedata&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">double</span> x;</div>
<div class="line"><span class="keywordtype">double</span> y=-h/2.0;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> eps0=8.854187e-12;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q1=1.6e-19;           <span class="comment">// charge of charged particle 1</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q1_x0=-0.5e-6;        <span class="comment">// x-position of charged particle 1</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q1_y0=-0.5e-6;        <span class="comment">// y-position of charged particle 1</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q2=1.6e-19;           <span class="comment">// charge of charged particle 2</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q2_x0=0.5e-6;         <span class="comment">// x-position of charged particle 2</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q2_y0=0.5e-6;         <span class="comment">// y-position of charged particle 2</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q3=-1.6e-19;          <span class="comment">// charge of charged particle 3</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q3_x0=-0.5e-6;        <span class="comment">// x-position of charged particle 3</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q3_y0=0.5e-6;         <span class="comment">// y-position of charged particle 3</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q4=-1.6e-19;          <span class="comment">// charge of charged particle 4</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q4_x0=0.5e-6;         <span class="comment">// x-position of charged particle 4</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> Q4_y0=-0.5e-6;        <span class="comment">// y-position of charged particle 4</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> iy=0; iy&lt;NY; iy++ ) {</div>
<div class="line">    x=-w/2.0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> ix=0; ix&lt;NX; ix++ ) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> r1=sqrt((x-Q1_x0)*(x-Q1_x0)+(y-Q1_y0)*(y-Q1_y0));</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> r2=sqrt((x-Q2_x0)*(x-Q2_x0)+(y-Q2_y0)*(y-Q2_y0));</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> r3=sqrt((x-Q3_x0)*(x-Q3_x0)+(y-Q3_y0)*(y-Q3_y0));</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> r4=sqrt((x-Q4_x0)*(x-Q4_x0)+(y-Q4_y0)*(y-Q4_y0));</div>
<div class="line">        ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#ace87ef8599fa2f71432728626f0e6e55">setPixel</a>(cPotential, ix, iy, Q1/(4.0*M_PI*eps0)/r1+Q2/(4.0*M_PI*eps0)/r2+Q3/(4.0*M_PI*eps0)/r3+Q4/(4.0*M_PI*eps0)/r4);</div>
<div class="line">        x+=dx;</div>
<div class="line">    }</div>
<div class="line">    y+=dx;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a></div><div class="ttdoc">This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:282</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_a3ce797890c214db3794bca76ffefef8e"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#a3ce797890c214db3794bca76ffefef8e">JKQTPDatastore::addImageColumn</a></div><div class="ttdeci">size_t addImageColumn(size_t width, size_t height, const QString &amp;name=QString(&quot;&quot;))</div><div class="ttdoc">add a new columns with width * height rows to the datastore and return its column ID....</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_ace87ef8599fa2f71432728626f0e6e55"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#ace87ef8599fa2f71432728626f0e6e55">JKQTPDatastore::setPixel</a></div><div class="ttdeci">void setPixel(size_t column, size_t x, size_t y, double value)</div><div class="ttdoc">returns the value at position (x, y) in the column-th column, which is interpreted with the imageWidt...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:2800</div></div>
</div><!-- fragment --><p>Then this image column can be drawn with a <span class="tt"><a class="el" href="class_j_k_q_t_p_column_contour_plot.html" title="class for a contour plots (same as JKQTPContourPlot) of images stored in a JKQTPDatastore column">JKQTPColumnContourPlot</a></span>: </p><div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_column_contour_plot.html">JKQTPColumnContourPlot</a>* graph=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_column_contour_plot.html">JKQTPColumnContourPlot</a>(&amp;plot);</div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_math_image.html#a12c1ea21eed55cd34899742f15b17362">setTitle</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="comment">// image column with the data</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_column_contour_plot.html#a5872b701ccea265395b94dfd9ed56e7f">setImageColumn</a>(cPotential);</div>
<div class="line"><span class="comment">// where does the image start in the plot, given in plot-axis-coordinates (bottom-left corner)</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#a6f40e47f3d54070c6040406932b793da">setX</a>(-w/2.0);</div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#acd02ce7527c76be7c9184073b76c31a6">setY</a>(-h/2.0);</div>
<div class="line"><span class="comment">// width and height of the image in plot-axis-coordinates</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#ab7dafad9c0f645769850e6285b1d2ad6">setWidth</a>(w);</div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#a304f101a196b2b7e8a0287c39dd42355">setHeight</a>(h);</div>
<div class="line"><span class="comment">// color-map is &quot;BlueGreenRed&quot;</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af4d4684e560361e2a31c503a7ddcae61">setColorPalette</a>(<a class="code hl_enumvalue" href="group__jkqtplotter__imagelots__tools.html#ggaae2f1de8b42bb1734243b4201f4aa72da3a56649a592444ab68ae9a4643337c4a">JKQTPMathImageBlueGreenRed</a>);</div>
<div class="line"><span class="comment">// get coordinate axis of color-bar and set its label</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#a9d98c6fd46689d88cee3473abe3298d7">getColorBarRightAxis</a>()-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_coordinate_axis.html#a915f7a994332bc497bb00dde12daf0db">setAxisLabel</a>(<span class="stringliteral">&quot;electric potential [V]&quot;</span>);</div>
<div class="line"><span class="comment">// add some levels for the contours. These are chosen to be at the actual potential values</span></div>
<div class="line"><span class="comment">// at several specified relative distance from Q1, i.e. at phi(Q1_x0*reldist) (phi: potential of Q1)</span></div>
<div class="line">QVector&lt;double&gt; reldists; reldists&lt;&lt;0.1&lt;&lt;0.25&lt;&lt;0.5&lt;&lt;1&lt;&lt;1.5&lt;&lt;2&lt;&lt;2.5&lt;&lt;3;</div>
<div class="line"><span class="comment">// finally contour levels with +1 and -1 sign are added to show the positive and negative potential:</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> reldist: reldists) {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> level=fabs(Q1/(4.0*M_PI*eps0)/(Q1_x0*reldist));</div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a6cd84eb2d2dcbde33844933b007c000c">addContourLevel</a>(-level);</div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a6cd84eb2d2dcbde33844933b007c000c">addContourLevel</a>(level);</div>
<div class="line">}</div>
<div class="line">qDebug()&lt;&lt;graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a9cdf05eaf17acd818de39e75e373c855">getContourLevels</a>();</div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af70936d9ae0c3911caeb82b060fd4501">setAutoImageRange</a>(<span class="keyword">false</span>);</div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#a8443efd21b8d75fff88f8f3681b05adb">setImageMin</a>(graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a9cdf05eaf17acd818de39e75e373c855">getContourLevels</a>().first());</div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#abba9dd2759d8cde10151a4c371eb4034">setImageMax</a>(graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a9cdf05eaf17acd818de39e75e373c855">getContourLevels</a>().last());</div>
<div class="ttc" id="aclass_j_k_q_t_p_color_palette_style_and_tools_mixin_html_a8443efd21b8d75fff88f8f3681b05adb"><div class="ttname"><a href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#a8443efd21b8d75fff88f8f3681b05adb">JKQTPColorPaletteStyleAndToolsMixin::setImageMin</a></div><div class="ttdeci">void setImageMin(double __value)</div><div class="ttdoc">image value range minimum</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_color_palette_style_and_tools_mixin_html_a9d98c6fd46689d88cee3473abe3298d7"><div class="ttname"><a href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#a9d98c6fd46689d88cee3473abe3298d7">JKQTPColorPaletteStyleAndToolsMixin::getColorBarRightAxis</a></div><div class="ttdeci">JKQTPVerticalIndependentAxis * getColorBarRightAxis()</div><div class="ttdoc">object used for color bar axes at the right</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_color_palette_style_and_tools_mixin_html_abba9dd2759d8cde10151a4c371eb4034"><div class="ttname"><a href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#abba9dd2759d8cde10151a4c371eb4034">JKQTPColorPaletteStyleAndToolsMixin::setImageMax</a></div><div class="ttdeci">void setImageMax(double __value)</div><div class="ttdoc">image value range maximum</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_color_palette_style_and_tools_mixin_html_af4d4684e560361e2a31c503a7ddcae61"><div class="ttname"><a href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af4d4684e560361e2a31c503a7ddcae61">JKQTPColorPaletteStyleAndToolsMixin::setColorPalette</a></div><div class="ttdeci">void setColorPalette(int pal)</div><div class="ttdoc">palette for plotting an image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_color_palette_style_and_tools_mixin_html_af70936d9ae0c3911caeb82b060fd4501"><div class="ttname"><a href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af70936d9ae0c3911caeb82b060fd4501">JKQTPColorPaletteStyleAndToolsMixin::setAutoImageRange</a></div><div class="ttdeci">void setAutoImageRange(bool __value)</div><div class="ttdoc">indicates whether to estimate min/max of the image automatically</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_column_contour_plot_html"><div class="ttname"><a href="class_j_k_q_t_p_column_contour_plot.html">JKQTPColumnContourPlot</a></div><div class="ttdoc">class for a contour plots (same as JKQTPContourPlot) of images stored in a JKQTPDatastore column</div><div class="ttdef"><b>Definition</b> jkqtpcontour.h:253</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_column_contour_plot_html_a5872b701ccea265395b94dfd9ed56e7f"><div class="ttname"><a href="class_j_k_q_t_p_column_contour_plot.html#a5872b701ccea265395b94dfd9ed56e7f">JKQTPColumnContourPlot::setImageColumn</a></div><div class="ttdeci">void setImageColumn(int __value)</div><div class="ttdoc">column containing the displayed image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_contour_plot_html_a6cd84eb2d2dcbde33844933b007c000c"><div class="ttname"><a href="class_j_k_q_t_p_contour_plot.html#a6cd84eb2d2dcbde33844933b007c000c">JKQTPContourPlot::addContourLevel</a></div><div class="ttdeci">void addContourLevel(double level)</div><div class="ttdoc">add another level for which to draw a contour</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_contour_plot_html_a9cdf05eaf17acd818de39e75e373c855"><div class="ttname"><a href="class_j_k_q_t_p_contour_plot.html#a9cdf05eaf17acd818de39e75e373c855">JKQTPContourPlot::getContourLevels</a></div><div class="ttdeci">QVector&lt; double &gt; getContourLevels() const</div><div class="ttdoc">the list of contour levels</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_coordinate_axis_html_a915f7a994332bc497bb00dde12daf0db"><div class="ttname"><a href="class_j_k_q_t_p_coordinate_axis.html#a915f7a994332bc497bb00dde12daf0db">JKQTPCoordinateAxis::setAxisLabel</a></div><div class="ttdeci">void setAxisLabel(const QString &amp;__value)</div><div class="ttdoc">axis label of the axis</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_a304f101a196b2b7e8a0287c39dd42355"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#a304f101a196b2b7e8a0287c39dd42355">JKQTPImageBase::setHeight</a></div><div class="ttdeci">void setHeight(double __value)</div><div class="ttdoc">height of image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_a6f40e47f3d54070c6040406932b793da"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#a6f40e47f3d54070c6040406932b793da">JKQTPImageBase::setX</a></div><div class="ttdeci">void setX(double __value)</div><div class="ttdoc">x coordinate of lower left corner</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_ab7dafad9c0f645769850e6285b1d2ad6"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#ab7dafad9c0f645769850e6285b1d2ad6">JKQTPImageBase::setWidth</a></div><div class="ttdeci">void setWidth(double __value)</div><div class="ttdoc">width of image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_acd02ce7527c76be7c9184073b76c31a6"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#acd02ce7527c76be7c9184073b76c31a6">JKQTPImageBase::setY</a></div><div class="ttdeci">void setY(double __value)</div><div class="ttdoc">y coordinate of lower left corner</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_math_image_html_a12c1ea21eed55cd34899742f15b17362"><div class="ttname"><a href="class_j_k_q_t_p_math_image.html#a12c1ea21eed55cd34899742f15b17362">JKQTPMathImage::setTitle</a></div><div class="ttdeci">virtual void setTitle(const QString &amp;title) override</div><div class="ttdoc">sets the title of the plot (for display in key!).</div></div>
<div class="ttc" id="agroup__jkqtplotter__imagelots__tools_html_ggaae2f1de8b42bb1734243b4201f4aa72da3a56649a592444ab68ae9a4643337c4a"><div class="ttname"><a href="group__jkqtplotter__imagelots__tools.html#ggaae2f1de8b42bb1734243b4201f4aa72da3a56649a592444ab68ae9a4643337c4a">JKQTPMathImageBlueGreenRed</a></div><div class="ttdeci">@ JKQTPMathImageBlueGreenRed</div><div class="ttdef"><b>Definition</b> jkqtpbasicimagetools.h:327</div></div>
</div><!-- fragment --><p>Note that we created the list of contour levels to draw explicitly here using <span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a6cd84eb2d2dcbde33844933b007c000c" title="add another level for which to draw a contour">JKQTPColumnContourPlot::addContourLevel()</a></span>. There are also methods <span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#ae383594bd5693e301fa78564d652d09e" title="creates at nLevels contour levels linearly spaced between the data&#39;s minimum and maximum values">JKQTPColumnContourPlot::createContourLevels()</a></span> and <span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a905ee94f79467e9abd62bb043ce5f691" title="creates at least nLevels contour levels with logarithmic spacing. FIXME: Has not been tested yet">JKQTPColumnContourPlot::createContourLevelsLog()</a></span> to auto-generate these from the data-range with linear or logarithmic spacing, but both options do not yield good results here. The code above generates these contour levels: </p><div class="fragment"><div class="line">-0.0287602, -0.0115041, -0.00575203, -0.00287602, -0.00191734, -0.00143801, -0.00115041, -0.000958672, 0.000958672, 0.00115041, 0.00143801, 0.00191734, 0.00287602, 0.00575203, 0.0115041, 0.0287602</div>
</div><!-- fragment --><p>The result looks like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/contourplot.png" alt="contourplot" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Styling a Contour Plot</h1>
<p>You can change the way that the colors for the contours are chosen by calling <span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a57c0b25694a09043cfb8604aef8a32a6" title="defines how the colors for the contours are chosen">JKQTPColumnContourPlot::setContourColoringMode()</a></span> with another mode:</p><ul>
<li><span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a02c75f060c4001c8821fb4da6a7c0d7ca551c01c252ac3aec7b2da4fe2ddabcd3" title="each contour line has the same color">JKQTPColumnContourPlot::SingleColorContours</a></span> uses the same color (set by <span class="tt"><a class="el" href="class_j_k_q_t_p_graph_line_style_mixin.html#a9b07b91e47013594972a240daa27936b" title="set the color of the graph line">JKQTPColumnContourPlot::setLineColor()</a></span>) for all contours.<br  />
 <img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/contourplot_SingleColorContours.png" alt="contourplot" class="inline"/></li>
<li><span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a02c75f060c4001c8821fb4da6a7c0d7ca923b4a8a73f734ee8650fc0d314a8ebe" title="the color for each contour line is determined by the current color palette, image range and the value...">JKQTPColumnContourPlot::ColorContoursFromPaletteByValue</a></span> is the mode used for the example above, which chooses the color from the current color-palette based on the current image data range and the actual level of the contour line. <br  />
 <img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/contourplot_ColorContoursFromPaletteByValue.png" alt="contourplot" class="inline"/></li>
<li><span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a02c75f060c4001c8821fb4da6a7c0d7ca60a0f827118ecb914d94f8a2b63e579a" title="the color for each contour line is chosen from the current color palette, distributing the contour li...">JKQTPColumnContourPlot::ColorContoursFromPalette</a></span> chooses the color by evenly spacing the contour lines over the full color palette. the line-color will then have no connection to the actual value of the level.<br  />
 <img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/contourplot_ColorContoursFromPalette.png" alt="contourplot" class="inline"/></li>
</ul>
<p>In all modes you can override the coloring of single levels by calling <span class="tt">JKQTPColumnContourPlot::setOverrideColor(level, color)</span>. In the example above this looks like this:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> reldist: reldists) {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> level=fabs(Q1/(4.0*M_PI*eps0)/(Q1_x0*reldist));</div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a6cd84eb2d2dcbde33844933b007c000c">addContourLevel</a>(-level);</div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#a6cd84eb2d2dcbde33844933b007c000c">addContourLevel</a>(level);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// set a special color for some lines:</span></div>
<div class="line">    <span class="keywordflow">if</span> (reldist==1) {</div>
<div class="line">        graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#ad96f7db4718581f5851f821bd73db179">setOverrideColor</a>(-level, QColor(<span class="stringliteral">&quot;yellow&quot;</span>));</div>
<div class="line">        graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_contour_plot.html#ad96f7db4718581f5851f821bd73db179">setOverrideColor</a>(level, QColor(<span class="stringliteral">&quot;yellow&quot;</span>));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_j_k_q_t_p_contour_plot_html_ad96f7db4718581f5851f821bd73db179"><div class="ttname"><a href="class_j_k_q_t_p_contour_plot.html#ad96f7db4718581f5851f821bd73db179">JKQTPContourPlot::setOverrideColor</a></div><div class="ttdeci">void setOverrideColor(double level, QColor overrideColor)</div><div class="ttdoc">define an override color for the contour line at the given level</div></div>
</div><!-- fragment --><p>This code results (in the default coloring mode <span class="tt"><a class="el" href="class_j_k_q_t_p_contour_plot.html#a02c75f060c4001c8821fb4da6a7c0d7ca923b4a8a73f734ee8650fc0d314a8ebe" title="the color for each contour line is determined by the current color palette, image range and the value...">JKQTPColumnContourPlot::ColorContoursFromPaletteByValue</a></span>) in:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/contourplot_overridecolors.png" alt="contourplot" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Gimmick: Animating a Contour Plot</h1>
<p>In order to demonstrate the caching implemented in the contour plot, there is optional animation code inside this example, in the form of the class <span class="tt">ContourPlotAnimator</span> (see (see <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/contourplot/ContourPlotAnimator.cpp"><span class="tt">ContourPlotAnimator.cpp</span></a> ).</p>
<p>The code therein results in an animation like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/contourplot_animated.gif" alt="contourplot" class="inline"/></p>
<p>Note that zooming can still be perfomred without the need to recalculate the contour lines. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
