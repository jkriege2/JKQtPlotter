<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Example (JKQTPlotter): Wiggle Plots</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_j_k_q_t_plotter_wiggle_plots.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Example (JKQTPlotter): Wiggle Plots </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_examples_2wiggleplots_2_r_e_a_d_m_e"></a></p>
<p>This project (see <span class="tt">./examples/wiggleplots/</span>) demonstrates how to draw "wiggle plots" with JKQtPlotter, using <span class="tt"><a class="el" href="class_j_k_q_t_p_filled_curve_x_graph.html" title="This implements filled curve plots where the area is filled between the plot line and the x-Axis.">JKQTPFilledCurveXGraph</a></span> or <span class="tt"><a class="el" href="class_j_k_q_t_p_filled_curve_y_graph.html" title="This implements filled curve plots where the area is filled between the plot line and y-Axis.">JKQTPFilledCurveYGraph</a></span>. Wiggle plots are plots, where the fill color is different above and below the baseline of the plot. They are e.g. used in seismology.</p>
<p>The source code of the main application can be found in <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/wiggleplots/wiggleplots.cpp"><span class="tt">wiggleplots.cpp</span></a>. If creates two different plots that demonstrate two styles of plots and also uses the horizontal and vertical variant of the graph class.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md116"></a>
Plot red/blue wiggle plot using <span class="tt">JKQTPFilledCurveXGraph</span></h1>
<p>For the first example we simulate a 1D random walk and plot the result as a filles wiggle plot:</p>
<p>In a first step, we obtain a pointer to the <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a> and add two columns to it. </p><div class="fragment"><div class="line"><span class="comment">// 1. get a pointer to the internal datastore (for convenience)</span></div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a>* ds=plot.getDatastore();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 2. now we create 2 datacolumns with length 1000 (NSteps) entries in the datastore</span></div>
<div class="line"><span class="comment">//    these will later hold the time-step and position of a random walker</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> NSteps=400;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> columnT=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#a5e33ba3499be747d654639e4987c0b52">addLinearColumn</a>(NSteps, 0, NSteps-1, <span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> columnX=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#ae057eda96c7b754cd42f4380b429a589">addColumn</a>(NSteps, <span class="stringliteral">&quot;position&quot;</span>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a></div><div class="ttdoc">This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:282</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_a5e33ba3499be747d654639e4987c0b52"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#a5e33ba3499be747d654639e4987c0b52">JKQTPDatastore::addLinearColumn</a></div><div class="ttdeci">size_t addLinearColumn(size_t rows, double start, double end, const QString &amp;name=QString(&quot;&quot;))</div><div class="ttdoc">add a column to the datastore that contains rows rows with monotonely increasing value starting at st...</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_ae057eda96c7b754cd42f4380b429a589"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#ae057eda96c7b754cd42f4380b429a589">JKQTPDatastore::addColumn</a></div><div class="ttdeci">size_t addColumn(JKQTPColumn col)</div><div class="ttdoc">add a new column to the datastore and return its ID</div></div>
</div><!-- fragment --><p>Now we fill the column with the random walk data:</p>
<div class="fragment"><div class="line"><span class="comment">// 3. now we simulate a simple rendom walk and store the calculated positions</span></div>
<div class="line"><span class="comment">//    in columnX</span></div>
<div class="line"><span class="keywordtype">double</span> pos=5;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> stepsize=1;</div>
<div class="line">std::random_device rd; <span class="comment">// random number generators:</span></div>
<div class="line">std::mt19937 gen{rd()};</div>
<div class="line">std::uniform_int_distribution&lt;int&gt; dist(0,1);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> t=0; t&lt;NSteps; t++) {</div>
<div class="line">    ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#a4597feb9ac51c2a717e2028ef73e0e8b">set</a>(columnX, t, pos);</div>
<div class="line">    pos=pos+stepsize*(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(dist(gen))*2.0-1.0);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_a4597feb9ac51c2a717e2028ef73e0e8b"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#a4597feb9ac51c2a717e2028ef73e0e8b">JKQTPDatastore::set</a></div><div class="ttdeci">void set(size_t column, size_t row, double value)</div><div class="ttdoc">sets the value at position (column, row). column is the logical column and will be mapped to the acco...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:2700</div></div>
</div><!-- fragment --><p>Now we can generate the actual graph and set its basic properties and data columns:</p>
<div class="fragment"><div class="line"><span class="comment">// 4. now we add three semi-transparent, filled curve plots, one for each histogram</span></div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_filled_curve_x_graph.html">JKQTPFilledCurveXGraph</a>* graph=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_filled_curve_x_graph.html">JKQTPFilledCurveXGraph</a>(&amp;plot);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 5. set graph titles</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_plot_element.html#a02a8d7c24cde7768f0134cee1aa1159d">setTitle</a>(<span class="stringliteral">&quot;Random Walk&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 6. set data</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_graph.html#a48809679e6f1ba587132608b8dfb903d">setXColumn</a>(columnT); graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_graph.html#a462e07fa2a17157b7346d2d993ff2721">setYColumn</a>(columnX);</div>
<div class="ttc" id="aclass_j_k_q_t_p_filled_curve_x_graph_html"><div class="ttname"><a href="class_j_k_q_t_p_filled_curve_x_graph.html">JKQTPFilledCurveXGraph</a></div><div class="ttdoc">This implements filled curve plots where the area is filled between the plot line and the x-Axis.</div><div class="ttdef"><b>Definition</b> jkqtpfilledcurve.h:103</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_plot_element_html_a02a8d7c24cde7768f0134cee1aa1159d"><div class="ttname"><a href="class_j_k_q_t_p_plot_element.html#a02a8d7c24cde7768f0134cee1aa1159d">JKQTPPlotElement::setTitle</a></div><div class="ttdeci">virtual void setTitle(const QString &amp;__value)</div><div class="ttdoc">sets the title of the plot (for display in key!).</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_graph_html_a462e07fa2a17157b7346d2d993ff2721"><div class="ttname"><a href="class_j_k_q_t_p_x_y_graph.html#a462e07fa2a17157b7346d2d993ff2721">JKQTPXYGraph::setYColumn</a></div><div class="ttdeci">void setYColumn(int __value)</div><div class="ttdoc">the column that contains the y-component of the datapoints</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_graph_html_a48809679e6f1ba587132608b8dfb903d"><div class="ttname"><a href="class_j_k_q_t_p_x_y_graph.html#a48809679e6f1ba587132608b8dfb903d">JKQTPXYGraph::setXColumn</a></div><div class="ttdeci">void setXColumn(int __value)</div><div class="ttdoc">the column that contains the x-component of the datapoints</div></div>
</div><!-- fragment --><p>Now we can acrivate the wiggle plot style filling mode and set the fill colors and line color and width.</p>
<div class="fragment"><div class="line"><span class="comment">// 7.1 enable wiggle-plot filling</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_filled_curve_graph_base.html#afe10a3b7c9b75fc6834081ac6cfb10a3">setFillMode</a>(<a class="code hl_enumvalue" href="class_j_k_q_t_p_filled_curve_graph_base.html#a1c6ebab82d5a08bd63a0574fc278ff08a265cdb2a9b566d2b83f0bd2529ab6232">JKQTPFilledCurveXGraph::TwoColorFilling</a>);</div>
<div class="line"><span class="comment">// 7.2 draw the data also as a black, thin line</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_graph_line_style_mixin.html#a9b07b91e47013594972a240daa27936b">setLineColor</a>(QColor(<span class="stringliteral">&quot;black&quot;</span>));</div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_graph_line_style_mixin.html#a2d904165c9b3ca34092730875c3f1d6f">setLineWidth</a>(1);</div>
<div class="line"><span class="comment">// 7.3 fill areas below the baseline with red</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_graph_fill_style_mixin.html#a3281a7fad05f07acc4f2fe80a93b29bf">setFillColor</a>(QColor(<span class="stringliteral">&quot;red&quot;</span>));</div>
<div class="line"><span class="comment">// 7.4 fill areas above the baseline with blue</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_filled_curve_graph_base.html#a0f1dfe18bdce384f520b48dfc331bac6">fillStyleBelow</a>().<a class="code hl_function" href="class_j_k_q_t_p_graph_fill_style_mixin.html#a3281a7fad05f07acc4f2fe80a93b29bf">setFillColor</a>(QColor(<span class="stringliteral">&quot;blue&quot;</span>));</div>
<div class="ttc" id="aclass_j_k_q_t_p_filled_curve_graph_base_html_a0f1dfe18bdce384f520b48dfc331bac6"><div class="ttname"><a href="class_j_k_q_t_p_filled_curve_graph_base.html#a0f1dfe18bdce384f520b48dfc331bac6">JKQTPFilledCurveGraphBase::fillStyleBelow</a></div><div class="ttdeci">JKQTPGraphFillStyleMixin &amp; fillStyleBelow()</div><div class="ttdoc">if m_fillMode ==FillAboveAndBelowDifferently then this fill style is used below the baseline and the ...</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_filled_curve_graph_base_html_a1c6ebab82d5a08bd63a0574fc278ff08a265cdb2a9b566d2b83f0bd2529ab6232"><div class="ttname"><a href="class_j_k_q_t_p_filled_curve_graph_base.html#a1c6ebab82d5a08bd63a0574fc278ff08a265cdb2a9b566d2b83f0bd2529ab6232">JKQTPFilledCurveGraphBase::TwoColorFilling</a></div><div class="ttdeci">@ TwoColorFilling</div><div class="ttdoc">the area above and below baseline with the two different colors/patterns, generates &quot;wiggle plots&quot;,...</div><div class="ttdef"><b>Definition</b> jkqtpfilledcurve.h:50</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_filled_curve_graph_base_html_afe10a3b7c9b75fc6834081ac6cfb10a3"><div class="ttname"><a href="class_j_k_q_t_p_filled_curve_graph_base.html#afe10a3b7c9b75fc6834081ac6cfb10a3">JKQTPFilledCurveGraphBase::setFillMode</a></div><div class="ttdeci">void setFillMode(JKQTPFilledCurveGraphBase::FillMode mode)</div><div class="ttdoc">specifies how the area of the graph is filles</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_graph_fill_style_mixin_html_a3281a7fad05f07acc4f2fe80a93b29bf"><div class="ttname"><a href="class_j_k_q_t_p_graph_fill_style_mixin.html#a3281a7fad05f07acc4f2fe80a93b29bf">JKQTPGraphFillStyleMixin::setFillColor</a></div><div class="ttdeci">void setFillColor(const QColor &amp;__value)</div><div class="ttdoc">set the color of the graph filling</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_graph_line_style_mixin_html_a2d904165c9b3ca34092730875c3f1d6f"><div class="ttname"><a href="class_j_k_q_t_p_graph_line_style_mixin.html#a2d904165c9b3ca34092730875c3f1d6f">JKQTPGraphLineStyleMixin::setLineWidth</a></div><div class="ttdeci">void setLineWidth(double __value)</div><div class="ttdoc">set the line width of the graph line (in pt)</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_graph_line_style_mixin_html_a9b07b91e47013594972a240daa27936b"><div class="ttname"><a href="class_j_k_q_t_p_graph_line_style_mixin.html#a9b07b91e47013594972a240daa27936b">JKQTPGraphLineStyleMixin::setLineColor</a></div><div class="ttdeci">void setLineColor(const QColor &amp;__value)</div><div class="ttdoc">set the color of the graph line</div></div>
</div><!-- fragment --><p>The baseline is set to the starting point (5) of the random walk. By default it would be at y=0.</p>
<div class="fragment"><div class="line"><span class="comment">// 7.5 set the baseline to be at 5 (not the default 0</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_baseline_graph.html#a8a0d886b3f92bf298e27e2b1cddaaf75">setBaseline</a>(5);</div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_baseline_graph_html_a8a0d886b3f92bf298e27e2b1cddaaf75"><div class="ttname"><a href="class_j_k_q_t_p_x_y_baseline_graph.html#a8a0d886b3f92bf298e27e2b1cddaaf75">JKQTPXYBaselineGraph::setBaseline</a></div><div class="ttdeci">void setBaseline(double __value)</div><div class="ttdoc">baseline of the plot (NOTE: 0 is interpreted as until plot border in log-mode!!!)</div></div>
</div><!-- fragment --><p>Now we only have to add the graph to the plotter and set some final properties for styling:</p>
<div class="fragment"><div class="line"><span class="comment">// 8. add the graphs to the plot, so they are actually displayed</span></div>
<div class="line">plot.addGraph(graph);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 9. set axis labels</span></div>
<div class="line">plot.getXAxis()-&gt;setAxisLabel(<span class="stringliteral">&quot;time $t$&quot;</span>);</div>
<div class="line">plot.getYAxis()-&gt;setAxisLabel(<span class="stringliteral">&quot;walker position $x(t)$&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 10. scale plot automatically</span></div>
<div class="line">plot.zoomToFit();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 11. show plotter and make it a decent size</span></div>
<div class="line">plot.show();</div>
<div class="line">plot.resize(600,400);</div>
</div><!-- fragment --><p>This is the resulting plot:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/wiggleplot_x.png" alt="wiggleplot of random walk" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md119"></a>
Plot black/transparent wiggle plot using <span class="tt">JKQTPFilledCurveYGraph</span> in a "seismographic style"</h1>
<p>The second example follows mor or less the same steps as above, but here we add several graphs that each show a wavepacket that is shoft slightly:</p>
<div class="fragment"><div class="line"><span class="comment">// 3. now we calculate several wavepackets and add a graph for each.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> NWavepackets=7;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> nw=0; nw&lt;NWavepackets; nw++) {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">size_t</span> columnPacket=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#ae057eda96c7b754cd42f4380b429a589">addColumn</a>(NSteps, <span class="stringliteral">&quot;wavepacket1&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> packwidth=0.4/<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(NWavepackets);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> pos=pow(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nw), 0.6)*packwidth*3.5+5.0*packwidth;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> wavelength=packwidth/1.5;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> offset=(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(nw)*1.5+1.5);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> ti=0; ti&lt;NSteps; ti++) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> t=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#af580d8e0eae7972de1b810b06dfb4a7f">get</a>(columnT, ti);</div>
<div class="line">        ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#a4597feb9ac51c2a717e2028ef73e0e8b">set</a>(columnPacket, ti, offset+sin(2.0*M_PI*t/wavelength)*exp(-0.5*<a class="code hl_function" href="group__jkqtptools__math__basic.html#gacb0b84ffd616c54365266f907cedf400">jkqtp_sqr</a>(t-pos)/<a class="code hl_function" href="group__jkqtptools__math__basic.html#gacb0b84ffd616c54365266f907cedf400">jkqtp_sqr</a>(packwidth)));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 4. now we add three semi-transparent, filled curve plots, one for each histogram</span></div>
<div class="line">    <a class="code hl_class" href="class_j_k_q_t_p_filled_curve_y_graph.html">JKQTPFilledCurveYGraph</a>* graph=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_filled_curve_y_graph.html">JKQTPFilledCurveYGraph</a>(&amp;plot);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// set graph titles</span></div>
<div class="line">    graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_plot_element.html#a02a8d7c24cde7768f0134cee1aa1159d">setTitle</a>(<span class="stringliteral">&quot;wave &quot;</span>+QString::number(nw+1));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// set data</span></div>
<div class="line">    graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_graph.html#a462e07fa2a17157b7346d2d993ff2721">setYColumn</a>(columnT); graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_graph.html#a48809679e6f1ba587132608b8dfb903d">setXColumn</a>(columnPacket);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// enable wiggle-plot filling</span></div>
<div class="line">    graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_filled_curve_graph_base.html#afe10a3b7c9b75fc6834081ac6cfb10a3">setFillMode</a>(<a class="code hl_enumvalue" href="class_j_k_q_t_p_filled_curve_graph_base.html#a1c6ebab82d5a08bd63a0574fc278ff08a265cdb2a9b566d2b83f0bd2529ab6232">JKQTPFilledCurveXGraph::TwoColorFilling</a>);</div>
<div class="line">    <span class="comment">// draw the data also as a black, thin line</span></div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_graph_line_style_mixin.html#a9b07b91e47013594972a240daa27936b">setLineColor</a>(QColor(<span class="stringliteral">&quot;black&quot;</span>));</div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_graph_line_style_mixin.html#a2d904165c9b3ca34092730875c3f1d6f">setLineWidth</a>(1);</div>
<div class="line">    <span class="comment">// fill areas below the baseline with red</span></div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_graph_fill_style_mixin.html#a3281a7fad05f07acc4f2fe80a93b29bf">setFillColor</a>(Qt::transparent);</div>
<div class="line">    <span class="comment">// fill areas above the baseline with blue</span></div>
<div class="line">    graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_filled_curve_graph_base.html#a0f1dfe18bdce384f520b48dfc331bac6">fillStyleBelow</a>().<a class="code hl_function" href="class_j_k_q_t_p_graph_fill_style_mixin.html#a3281a7fad05f07acc4f2fe80a93b29bf">setFillColor</a>(QColor(<span class="stringliteral">&quot;black&quot;</span>));</div>
<div class="line">    <span class="comment">// set the baseline to be at 5 (not the default 0</span></div>
<div class="line">    graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_baseline_graph.html#a8a0d886b3f92bf298e27e2b1cddaaf75">setBaseline</a>(offset);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// add the graphs to the plot, so they are actually displayed</span></div>
<div class="line">    plot.addGraph(graph);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_af580d8e0eae7972de1b810b06dfb4a7f"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#af580d8e0eae7972de1b810b06dfb4a7f">JKQTPDatastore::get</a></div><div class="ttdeci">double get(size_t column, size_t row) const</div><div class="ttdoc">returns the value at position (column, row). column is the logical column and will be mapped to the a...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:2675</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_filled_curve_y_graph_html"><div class="ttname"><a href="class_j_k_q_t_p_filled_curve_y_graph.html">JKQTPFilledCurveYGraph</a></div><div class="ttdoc">This implements filled curve plots where the area is filled between the plot line and y-Axis.</div><div class="ttdef"><b>Definition</b> jkqtpfilledcurve.h:210</div></div>
<div class="ttc" id="agroup__jkqtptools__math__basic_html_gacb0b84ffd616c54365266f907cedf400"><div class="ttname"><a href="group__jkqtptools__math__basic.html#gacb0b84ffd616c54365266f907cedf400">jkqtp_sqr</a></div><div class="ttdeci">T jkqtp_sqr(const T &amp;v)</div><div class="ttdoc">returns the quare of the value v, i.e. v*v</div><div class="ttdef"><b>Definition</b> jkqtpmathtools.h:327</div></div>
</div><!-- fragment --><p>Also the colors are different: We use black below the baseline and transparent above. The line through the data points is black as well.</p>
<p>This is the resulting plot:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/wiggleplot_y.png" alt="wiggleplot of random walk" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
