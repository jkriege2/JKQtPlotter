<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Example (JKQTPlotter): Image Plots with Custom Palettes</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_j_k_q_t_plotter_image_plot_user_palette.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Example (JKQTPlotter): Image Plots with Custom Palettes </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_examples_2imageplot__userpal_2_r_e_a_d_m_e"></a></p>
<p>This project (see <span class="tt">./examples/imageplot_userpal/</span>) demonstrates how to use user-defined color-palettes for image plots. The source code of the main application is (see <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/imageplot_userpal/imageplot_userpal.cpp"><span class="tt">imageplot_userpal.cpp</span></a>).</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md80"></a>
Build Palettes Programmatically</h1>
<p><a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> comes with a large set of predefined color palettes, which are enumerated in <span class="tt"><a class="el" href="group__jkqtplotter__imagelots__tools.html#gaae2f1de8b42bb1734243b4201f4aa72d" title="available palettes for coloring an image">JKQTPMathImageColorPalette</a></span>. In addition you can build your own palettes as simple lookup-tables of type <span class="tt"><a class="el" href="struct_j_k_q_t_p_image_tools.html#af50d2ee768eaece312b5eb4eeba8c6a4" title="Datatype to store lookup-tables used to map data values (scales to 0..size-1) onto RGB-colors.">JKQTPImageTools::LUTType</a></span> (which is a <span class="tt">QVector&lt;QRgb&gt;</span>) and register them in the system (using <span class="tt"><a class="el" href="struct_j_k_q_t_p_image_tools.html#aa422583662c8dfa952c66fee416448a7" title="registers a new LUT defined by paletteLut and with the given name (computer-readable) for later use,...">JKQTPImageTools::registerPalette()</a></span>). There are several options available for building such a palette:</p><ol type="1">
<li>you can simply define a palette from single colors:</li>
</ol>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="struct_j_k_q_t_p_image_tools.html#af50d2ee768eaece312b5eb4eeba8c6a4">JKQTPImageTools::LUTType</a> pal{</div>
<div class="line">    QColor(<span class="stringliteral">&quot;blue&quot;</span>).rgb(), </div>
<div class="line">    QColor(<span class="stringliteral">&quot;green&quot;</span>).rgb(), </div>
<div class="line">    QColor(<span class="stringliteral">&quot;white&quot;</span>).rgb(), </div>
<div class="line">    QColor(<span class="stringliteral">&quot;yellow&quot;</span>).rgb(), </div>
<div class="line">    QColor(<span class="stringliteral">&quot;red&quot;</span>).rgb(), </div>
<div class="line">    QColor(<span class="stringliteral">&quot;red&quot;</span>).rgb()</div>
<div class="line">};</div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_af50d2ee768eaece312b5eb4eeba8c6a4"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#af50d2ee768eaece312b5eb4eeba8c6a4">JKQTPImageTools::LUTType</a></div><div class="ttdeci">QVector&lt; QRgb &gt; LUTType</div><div class="ttdoc">Datatype to store lookup-tables used to map data values (scales to 0..size-1) onto RGB-colors.</div><div class="ttdef"><b>Definition</b> jkqtpbasicimagetools.h:378</div></div>
</div><!-- fragment --><p>Such a palette will have exactly as many entries, as you specified: <img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/imageplot_userpal_palsimple.png" alt="palsimple" class="inline"/></p><ol type="1">
<li>Alternatively you can build a palette from a set of colors with assocziated positions on the values axis (typically 0..1 as these are in any way later mapped to the actual data range):</li>
</ol>
<div class="fragment"><div class="line">QList&lt;QPair&lt;double, QRgb&gt; &gt; palsteps2;</div>
<div class="line">palsteps2&lt;&lt;qMakePair&lt;double, QRgb&gt;(0.00, QColor(<span class="stringliteral">&quot;blue&quot;</span>).rgba());</div>
<div class="line">palsteps2&lt;&lt;qMakePair&lt;double, QRgb&gt;(0.05, QColor(<span class="stringliteral">&quot;green&quot;</span>).rgba());</div>
<div class="line">palsteps2&lt;&lt;qMakePair&lt;double, QRgb&gt;(0.45, QColor(<span class="stringliteral">&quot;white&quot;</span>).rgba());</div>
<div class="line">palsteps2&lt;&lt;qMakePair&lt;double, QRgb&gt;(0.55, QColor(<span class="stringliteral">&quot;yellow&quot;</span>).rgba());</div>
<div class="line">palsteps2&lt;&lt;qMakePair&lt;double, QRgb&gt;(0.95, QColor(<span class="stringliteral">&quot;red&quot;</span>).rgba());</div>
<div class="line">palsteps2&lt;&lt;qMakePair&lt;double, QRgb&gt;(1.00, QColor(<span class="stringliteral">&quot;red&quot;</span>).rgba());</div>
<div class="line"> </div>
<div class="line">pal=<a class="code hl_function" href="group__jkqtplotter__imagelots__tools___l_u_t_s.html#ga254a1e353446ee3fe1c3b377ac95f82e">JKQTPBuildColorPaletteLUT</a>(palsteps2, <a class="code hl_variable" href="struct_j_k_q_t_p_image_tools.html#ae0bf98fa4c6b14f0a5426c741d8094a4">JKQTPImageTools::LUTSIZE</a>);</div>
<div class="ttc" id="agroup__jkqtplotter__imagelots__tools___l_u_t_s_html_ga254a1e353446ee3fe1c3b377ac95f82e"><div class="ttname"><a href="group__jkqtplotter__imagelots__tools___l_u_t_s.html#ga254a1e353446ee3fe1c3b377ac95f82e">JKQTPBuildColorPaletteLUT</a></div><div class="ttdeci">JKQTPImageTools::LUTType JKQTCOMMON_LIB_EXPORT JKQTPBuildColorPaletteLUT(JKQTPPaletteList items, int lut_size=JKQTPImageTools::LUTSIZE)</div><div class="ttdoc">like JKQTPBuildColorPaletteLUTSorted(), but sorts items before processing it!</div></div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_ae0bf98fa4c6b14f0a5426c741d8094a4"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#ae0bf98fa4c6b14f0a5426c741d8094a4">JKQTPImageTools::LUTSIZE</a></div><div class="ttdeci">static JKQTCOMMON_LIB_EXPORT const int LUTSIZE</div><div class="ttdoc">size of the lookup tables used by JKQTFPimagePlot_array2image()</div><div class="ttdef"><b>Definition</b> jkqtpbasicimagetools.h:386</div></div>
</div><!-- fragment --><p>Such a palette will have <span class="tt"><a class="el" href="struct_j_k_q_t_p_image_tools.html#ae0bf98fa4c6b14f0a5426c741d8094a4" title="size of the lookup tables used by JKQTFPimagePlot_array2image()">JKQTPImageTools::LUTSIZE</a> (=255)</span> entries and the colors are not spaced equally: <img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/imageplot_userpal_palsteps2.png" alt="palsteps2" class="inline"/></p><ol type="1">
<li>The palettes so far had steps, but you can also give a series of nodes with positions (on the value axis) and RGB-colors there (e.g. <span class="tt">palsteps2</span> above) but then linearly interpolate between these by calling:</li>
</ol>
<div class="fragment"><div class="line">pal=<a class="code hl_function" href="group__jkqtplotter__imagelots__tools___l_u_t_s.html#ga2817b00b9603efefa1f85f9b5665a22d">JKQTPBuildColorPaletteLUTLinInterpolate</a>(palsteps2, <a class="code hl_variable" href="struct_j_k_q_t_p_image_tools.html#ae0bf98fa4c6b14f0a5426c741d8094a4">JKQTPImageTools::LUTSIZE</a>);</div>
<div class="ttc" id="agroup__jkqtplotter__imagelots__tools___l_u_t_s_html_ga2817b00b9603efefa1f85f9b5665a22d"><div class="ttname"><a href="group__jkqtplotter__imagelots__tools___l_u_t_s.html#ga2817b00b9603efefa1f85f9b5665a22d">JKQTPBuildColorPaletteLUTLinInterpolate</a></div><div class="ttdeci">JKQTPImageTools::LUTType JKQTCOMMON_LIB_EXPORT JKQTPBuildColorPaletteLUTLinInterpolate(JKQTPPaletteList items, int lut_size=JKQTPImageTools::LUTSIZE)</div><div class="ttdoc">like JKQTPBuildColorPaletteLUTLinInterpolateSorted(), but sorts items before processing it!</div></div>
</div><!-- fragment --> <pre class="fragment">The resulting LUT is then:   ![imageplot_userpal_2_linear](https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/imageplot_userpal_2_linear.png)
</pre><ol type="1">
<li>Finally there is a second way of linear interpolation, where linear segments are given for the three color channels separately. To use such a definition, call <span class="tt">JKQTPBuildColorPaletteLUTLinSegments</span> instead (see documenttaion there).</li>
</ol>
<p>For each of these options, you finally call <span class="tt"><a class="el" href="struct_j_k_q_t_p_image_tools.html#aa422583662c8dfa952c66fee416448a7" title="registers a new LUT defined by paletteLut and with the given name (computer-readable) for later use,...">JKQTPImageTools::registerPalette()</a></span> to make them known to the system:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> userpalette_id=<a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#aa422583662c8dfa952c66fee416448a7">JKQTPImageTools::registerPalette</a>(<span class="stringliteral">&quot;userpal_computer_readable_name&quot;</span>, pal, QObject::tr(<span class="stringliteral">&quot;User Palette Human-Readable Name&quot;</span>));</div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_aa422583662c8dfa952c66fee416448a7"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#aa422583662c8dfa952c66fee416448a7">JKQTPImageTools::registerPalette</a></div><div class="ttdeci">static JKQTCOMMON_LIB_EXPORT int registerPalette(const QString &amp;name, const LUTType &amp;paletteLut, const QString &amp;nameT=QString())</div><div class="ttdoc">registers a new LUT defined by paletteLut and with the given name (computer-readable) for later use,...</div></div>
</div><!-- fragment --><p>This function returns an integer, which you can cast to a <span class="tt"><a class="el" href="group__jkqtplotter__imagelots__tools.html#gaae2f1de8b42bb1734243b4201f4aa72d" title="available palettes for coloring an image">JKQTPMathImageColorPalette</a></span> to use your new palette:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>* graph=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>(plot);</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af4d4684e560361e2a31c503a7ddcae61">setColorPalette</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="group__jkqtplotter__imagelots__tools.html#gaae2f1de8b42bb1734243b4201f4aa72d">JKQTPMathImageColorPalette</a><span class="keyword">&gt;</span>(userpalette_id));</div>
<div class="ttc" id="aclass_j_k_q_t_p_color_palette_style_and_tools_mixin_html_af4d4684e560361e2a31c503a7ddcae61"><div class="ttname"><a href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af4d4684e560361e2a31c503a7ddcae61">JKQTPColorPaletteStyleAndToolsMixin::setColorPalette</a></div><div class="ttdeci">void setColorPalette(int pal)</div><div class="ttdoc">palette for plotting an image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_column_math_image_html"><div class="ttname"><a href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a></div><div class="ttdoc">class to plot an image from an 2-dimensional array of values stored in a column of the datastore</div><div class="ttdef"><b>Definition</b> jkqtpimage.h:771</div></div>
<div class="ttc" id="agroup__jkqtplotter__imagelots__tools_html_gaae2f1de8b42bb1734243b4201f4aa72d"><div class="ttname"><a href="group__jkqtplotter__imagelots__tools.html#gaae2f1de8b42bb1734243b4201f4aa72d">JKQTPMathImageColorPalette</a></div><div class="ttdeci">JKQTPMathImageColorPalette</div><div class="ttdoc">available palettes for coloring an image</div><div class="ttdef"><b>Definition</b> jkqtpbasicimagetools.h:84</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md81"></a>
Load Palettes from Files</h1>
<p>In addition to building palettes/LUTs programmatically, as shown above, you can simply load palettes from files using:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#aff9b8402f7be50b54b125237385c8f99">JKQTPImageTools::registerPalettesFromFile</a>(<span class="stringliteral">&quot;:/usercolorpalettes/palettes/All_idl_cmaps.xml&quot;</span>);</div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_aff9b8402f7be50b54b125237385c8f99"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#aff9b8402f7be50b54b125237385c8f99">JKQTPImageTools::registerPalettesFromFile</a></div><div class="ttdeci">static JKQTCOMMON_LIB_EXPORT QVector&lt; int &gt; registerPalettesFromFile(const QString &amp;filename, bool interpolatePalette=false)</div><div class="ttdoc">loads all palettes defined in the given palette files filename into global_jkqtpimagetools_userluts a...</div></div>
</div><!-- fragment --><p>This function may load different file formats (discriminated by the extension):</p><ol type="1">
<li>XML-files (extension <span class="tt">.xml</span>) may contain one or more color palettes and should be formatted as follows:</li>
</ol>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">ColorMap</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PALETTENAME&quot;</span> <span class="keyword">space</span>=<span class="stringliteral">&quot;RGB&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Point</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;scalar&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;RED&quot;</span> <span class="keyword">g</span>=<span class="stringliteral">&quot;GREEN&quot;</span> <span class="keyword">b</span>=<span class="stringliteral">&quot;BLUE&quot;</span>/&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Point</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;scalar&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;RED&quot;</span> <span class="keyword">g</span>=<span class="stringliteral">&quot;GREEN&quot;</span> <span class="keyword">b</span>=<span class="stringliteral">&quot;BLUE&quot;</span>/&gt;</div>
<div class="line">  ...</div>
<div class="line">&lt;/<span class="keywordtype">ColorMap</span>&gt;</div>
</div><!-- fragment --><p>or with several palettes in one file:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">ColorMaps</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">ColorMap</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PALETTENAME&quot;</span> <span class="keyword">space</span>=<span class="stringliteral">&quot;RGB&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">Point</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;scalar&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;RED&quot;</span> <span class="keyword">g</span>=<span class="stringliteral">&quot;GREEN&quot;</span> <span class="keyword">b</span>=<span class="stringliteral">&quot;BLUE&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">Point</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;scalar&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;RED&quot;</span> <span class="keyword">g</span>=<span class="stringliteral">&quot;GREEN&quot;</span> <span class="keyword">b</span>=<span class="stringliteral">&quot;BLUE&quot;</span>/&gt;</div>
<div class="line">      ...</div>
<div class="line">    &lt;/<span class="keywordtype">ColorMap</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">ColorMap</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PALETTENAME&quot;</span> <span class="keyword">space</span>=<span class="stringliteral">&quot;RGB&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">Point</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;scalar&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;RED&quot;</span> <span class="keyword">g</span>=<span class="stringliteral">&quot;GREEN&quot;</span> <span class="keyword">b</span>=<span class="stringliteral">&quot;BLUE&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">Point</span> <span class="keyword">x</span>=<span class="stringliteral">&quot;scalar&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;RED&quot;</span> <span class="keyword">g</span>=<span class="stringliteral">&quot;GREEN&quot;</span> <span class="keyword">b</span>=<span class="stringliteral">&quot;BLUE&quot;</span>/&gt;</div>
<div class="line">      ...</div>
<div class="line">    &lt;/<span class="keywordtype">ColorMap</span>&gt;</div>
<div class="line">    ...</div>
<div class="line">&lt;/<span class="keywordtype">ColorMaps</span>&gt;</div>
</div><!-- fragment --><ol type="1">
<li>CSV-files (extensions <span class="tt">.csv</span>, <span class="tt">.rgb</span>, <span class="tt">.pal</span>) are simply a list of 3 or 4 comma-separated values:</li>
</ol>
<div class="fragment"><div class="line">red, green, blue</div>
<div class="line">red, green, blue</div>
<div class="line">...</div>
</div><!-- fragment --><p>or:</p>
<div class="fragment"><div class="line">scalar, red, green, blue</div>
<div class="line">scalar, red, green, blue</div>
<div class="line">...</div>
</div><!-- fragment --><p>By default the palettes are simply read from the files as raw data. Alternatively you can linearly interpolate between the nodes in the file by calling</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#aff9b8402f7be50b54b125237385c8f99">JKQTPImageTools::registerPalettesFromFile</a>(<span class="stringliteral">&quot;:/usercolorpalettes/palettes/All_idl_cmaps.xml&quot;</span>, <span class="keyword">true</span>);</div>
</div><!-- fragment --><p>Examples for such palette files can be found here: <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/imageplot_userpal/palettes/">/examples/imageplot_userpal/palettes/</a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md82"></a>
Main Program of the Example (GUI)</h1>
<p>The rest of the example program <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/imageplot_userpal/imageplot_userpal.cpp"><span class="tt">imageplot_userpal.cpp</span></a> just generates a 2D function plot as a color-map and displays it ...</p>
<div class="fragment"><div class="line"><span class="comment">// 1. create a window containing a plotter and a combobox to select the color palette</span></div>
<div class="line"><span class="comment">//    ... and get a pointer to the internal datastore (for convenience)</span></div>
<div class="line">QWidget win;</div>
<div class="line">QVBoxLayout* lay=<span class="keyword">new</span> QVBoxLayout();</div>
<div class="line">win.setLayout(lay);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html">JKQTPMathImageColorPaletteComboBox</a>* cmbPalette=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html">JKQTPMathImageColorPaletteComboBox</a>(&amp;win);</div>
<div class="line">lay-&gt;addWidget(cmbPalette);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>* plot=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>(&amp;win);</div>
<div class="line">lay-&gt;addWidget(plot);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a>* ds=plot-&gt;<a class="code hl_function" href="class_j_k_q_t_plotter.html#ae31c276a93cbf7aa8f9c153327aa5b74">getDatastore</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 2. now we create data for the charts (taken from https://commons.wikimedia.org/wiki/File:Energiemix_Deutschland.svg)</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> NX=100; <span class="comment">// image dimension in x-direction [pixels]</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> NY=NX; <span class="comment">// image dimension in x-direction [pixels]</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> dx=0.6e-2; <span class="comment">// size of a pixel in x-direction [micrometers]</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> dy=0.6e-2; <span class="comment">// size of a pixel in x-direction [micrometers]</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// 2.1 Parameters for airy disk plot (see https://en.wikipedia.org/wiki/Airy_disk)</span></div>
<div class="line"><span class="keywordtype">double</span> NA=1.1; <span class="comment">// numerical aperture of lens</span></div>
<div class="line"><span class="keywordtype">double</span> wavelength=488e-3; <span class="comment">// wavelength of the light [micrometers]</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// 2.2 calculate image of airy disk in a row-major array and immediately store the values</span></div>
<div class="line"><span class="comment">//     in a new image column cAiryDisk</span></div>
<div class="line"><span class="keywordtype">size_t</span> cAiryDisk=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#a04e406f2bcec13a3f5bd694c7cb74e54">addCalculatedImageColumn</a>(NX, NY, [&amp;](<span class="keywordtype">size_t</span> ix, <span class="keywordtype">size_t</span> iy)-&gt;<span class="keywordtype">double</span> {</div>
<div class="line">    <span class="keywordtype">double</span> x=<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(ix)-NX/2)*dx;</div>
<div class="line">    <span class="keywordtype">double</span> y=<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(iy)-NY/2)*dy;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> r=sqrt(x*x+y*y);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> v=2.0*M_PI*NA*r/wavelength;</div>
<div class="line">    <span class="keywordflow">if</span> (ix==NX/2 &amp;&amp; iy==NY/2) <span class="keywordflow">return</span> 1.0;</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">return</span> pow(2.0*j1(v)/v, 2);</div>
<div class="line">}, <span class="stringliteral">&quot;imagedata&quot;</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// 3. create a graph (JKQTPColumnMathImage) with the column created above as data</span></div>
<div class="line"><span class="comment">//    The data is color-coded with the color-palette JKQTPMathImageMATLAB</span></div>
<div class="line"><span class="comment">//    the converted range of data is determined automatically because setAutoImageRange(true)</span></div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>* graph=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>(plot);</div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_math_image.html#a12c1ea21eed55cd34899742f15b17362">setTitle</a>(<span class="stringliteral">&quot;default MATLAB palette&quot;</span>);</div>
<div class="line"><span class="comment">// set the image column with the data</span></div>
<div class="line">graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_column_math_image.html#a64d8443502002fe626cbe55799f3c198">setImageColumn</a>(cAiryDisk);</div>
<div class="line"><span class="comment">// where does the image start in the plot, given in plot-axis-coordinates (bottom-left corner)</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#a6f40e47f3d54070c6040406932b793da">setX</a>(0);</div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#acd02ce7527c76be7c9184073b76c31a6">setY</a>(0);</div>
<div class="line"><span class="comment">// width and height of the image in plot-axis-coordinates</span></div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#ab7dafad9c0f645769850e6285b1d2ad6">setWidth</a>(1);</div>
<div class="line">graph-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_image_base.html#a304f101a196b2b7e8a0287c39dd42355">setHeight</a>(1);</div>
<div class="line"><span class="comment">// color-map is taken from cmbPalette</span></div>
<div class="line">plot-&gt;connect(cmbPalette, &amp;<a class="code hl_signal" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#af254c526cb22fa86498220c8cf70c229">JKQTPMathImageColorPaletteComboBox::currentPaletteChanged</a>,[&amp;](<a class="code hl_enumeration" href="group__jkqtplotter__imagelots__tools.html#gaae2f1de8b42bb1734243b4201f4aa72d">JKQTPMathImageColorPalette</a> p) { graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af4d4684e560361e2a31c503a7ddcae61">setColorPalette</a>(p); plot-&gt;<a class="code hl_slot" href="class_j_k_q_t_plotter.html#aebce042360ddc51b50472760ed272f7d">redrawPlot</a>(); });</div>
<div class="line">cmbPalette-&gt;<a class="code hl_function" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#a32cda9650a85354cba07690aee882e95">setCurrentColorPalette</a>(graph-&gt;getPalette());</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// 4. add the graphs to the plot, so it is actually displayed</span></div>
<div class="line">plot-&gt;<a class="code hl_function" href="class_j_k_q_t_plotter.html#a63a54c5342d664c35ffb3d532ba26b99">addGraph</a>(graph);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// 5. fix axis and plot aspect ratio to 1</span></div>
<div class="line">plot-&gt;<a class="code hl_function" href="class_j_k_q_t_plotter.html#a59f5e9add382cb1ad35ac7d17fe8d353">getPlotter</a>()-&gt;<a class="code hl_slot" href="class_j_k_q_t_base_plotter.html#a1360fa41c72a05e4142527e3322e2d61">setMaintainAspectRatio</a>(<span class="keyword">true</span>);</div>
<div class="line">plot-&gt;<a class="code hl_function" href="class_j_k_q_t_plotter.html#a59f5e9add382cb1ad35ac7d17fe8d353">getPlotter</a>()-&gt;<a class="code hl_slot" href="class_j_k_q_t_base_plotter.html#a3fdaa585b8b1a150321b19742091ddaa">setMaintainAxisAspectRatio</a>(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 6. autoscale the plot so the graph is contained</span></div>
<div class="line">plot-&gt;<a class="code hl_slot" href="class_j_k_q_t_plotter.html#a0ed800587c1f3f5ab36dd5422c101e28">zoomToFit</a>();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// 8. show plotter and make it a decent size</span></div>
<div class="line">win.show();</div>
<div class="line">win.resize(500,550);</div>
<div class="line">win.setWindowTitle(<span class="stringliteral">&quot;JKQTPColumnMathImage, User Palettes&quot;</span>);</div>
<div class="ttc" id="aclass_j_k_q_t_base_plotter_html_a1360fa41c72a05e4142527e3322e2d61"><div class="ttname"><a href="class_j_k_q_t_base_plotter.html#a1360fa41c72a05e4142527e3322e2d61">JKQTBasePlotter::setMaintainAspectRatio</a></div><div class="ttdeci">void setMaintainAspectRatio(bool value)</div><div class="ttdoc">en-/disables the maintaining of the data aspect ratio</div></div>
<div class="ttc" id="aclass_j_k_q_t_base_plotter_html_a3fdaa585b8b1a150321b19742091ddaa"><div class="ttname"><a href="class_j_k_q_t_base_plotter.html#a3fdaa585b8b1a150321b19742091ddaa">JKQTBasePlotter::setMaintainAxisAspectRatio</a></div><div class="ttdeci">void setMaintainAxisAspectRatio(bool value)</div><div class="ttdoc">en-/disables the maintaining of the axis aspect ratio</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_column_math_image_html_a64d8443502002fe626cbe55799f3c198"><div class="ttname"><a href="class_j_k_q_t_p_column_math_image.html#a64d8443502002fe626cbe55799f3c198">JKQTPColumnMathImage::setImageColumn</a></div><div class="ttdeci">virtual void setImageColumn(int __value)</div><div class="ttdoc">column containing the displayed image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a></div><div class="ttdoc">This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:282</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_a04e406f2bcec13a3f5bd694c7cb74e54"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#a04e406f2bcec13a3f5bd694c7cb74e54">JKQTPDatastore::addCalculatedImageColumn</a></div><div class="ttdeci">size_t addCalculatedImageColumn(size_t cols, size_t rows, const std::function&lt; double(size_t, size_t)&gt; &amp;f, const QString &amp;name=QString(&quot;&quot;))</div><div class="ttdoc">add an image column with width cols and height rows (i.e. rows * cols entries), that is calculated by...</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_a304f101a196b2b7e8a0287c39dd42355"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#a304f101a196b2b7e8a0287c39dd42355">JKQTPImageBase::setHeight</a></div><div class="ttdeci">void setHeight(double __value)</div><div class="ttdoc">height of image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_a6f40e47f3d54070c6040406932b793da"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#a6f40e47f3d54070c6040406932b793da">JKQTPImageBase::setX</a></div><div class="ttdeci">void setX(double __value)</div><div class="ttdoc">x coordinate of lower left corner</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_ab7dafad9c0f645769850e6285b1d2ad6"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#ab7dafad9c0f645769850e6285b1d2ad6">JKQTPImageBase::setWidth</a></div><div class="ttdeci">void setWidth(double __value)</div><div class="ttdoc">width of image</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_image_base_html_acd02ce7527c76be7c9184073b76c31a6"><div class="ttname"><a href="class_j_k_q_t_p_image_base.html#acd02ce7527c76be7c9184073b76c31a6">JKQTPImageBase::setY</a></div><div class="ttdeci">void setY(double __value)</div><div class="ttdoc">y coordinate of lower left corner</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_math_image_color_palette_combo_box_html"><div class="ttname"><a href="class_j_k_q_t_p_math_image_color_palette_combo_box.html">JKQTPMathImageColorPaletteComboBox</a></div><div class="ttdoc">class to plot an image from an 2-dimensional array of values</div><div class="ttdef"><b>Definition</b> jkqtpcomboboxes.h:39</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_math_image_color_palette_combo_box_html_a32cda9650a85354cba07690aee882e95"><div class="ttname"><a href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#a32cda9650a85354cba07690aee882e95">JKQTPMathImageColorPaletteComboBox::setCurrentColorPalette</a></div><div class="ttdeci">void setCurrentColorPalette(JKQTPMathImageColorPalette palette)</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_math_image_color_palette_combo_box_html_af254c526cb22fa86498220c8cf70c229"><div class="ttname"><a href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#af254c526cb22fa86498220c8cf70c229">JKQTPMathImageColorPaletteComboBox::currentPaletteChanged</a></div><div class="ttdeci">void currentPaletteChanged(JKQTPMathImageColorPalette palette)</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_math_image_html_a12c1ea21eed55cd34899742f15b17362"><div class="ttname"><a href="class_j_k_q_t_p_math_image.html#a12c1ea21eed55cd34899742f15b17362">JKQTPMathImage::setTitle</a></div><div class="ttdeci">virtual void setTitle(const QString &amp;title) override</div><div class="ttdoc">sets the title of the plot (for display in key!).</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html"><div class="ttname"><a href="class_j_k_q_t_plotter.html">JKQTPlotter</a></div><div class="ttdoc">plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:374</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_a0ed800587c1f3f5ab36dd5422c101e28"><div class="ttname"><a href="class_j_k_q_t_plotter.html#a0ed800587c1f3f5ab36dd5422c101e28">JKQTPlotter::zoomToFit</a></div><div class="ttdeci">void zoomToFit(bool zoomX=true, bool zoomY=true, bool includeX0=false, bool includeY0=false, double scaleX=1.05, double scaleY=1.05)</div><div class="ttdoc">this method zooms the graph so that all plotted datapoints are visible.</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:1051</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_a59f5e9add382cb1ad35ac7d17fe8d353"><div class="ttname"><a href="class_j_k_q_t_plotter.html#a59f5e9add382cb1ad35ac7d17fe8d353">JKQTPlotter::getPlotter</a></div><div class="ttdeci">JKQTBasePlotter * getPlotter()</div><div class="ttdoc">returns the JKQTBasePlotter object internally used for plotting</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:414</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_a63a54c5342d664c35ffb3d532ba26b99"><div class="ttname"><a href="class_j_k_q_t_plotter.html#a63a54c5342d664c35ffb3d532ba26b99">JKQTPlotter::addGraph</a></div><div class="ttdeci">size_t addGraph(JKQTPPlotElement *gr)</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:796</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_ae31c276a93cbf7aa8f9c153327aa5b74"><div class="ttname"><a href="class_j_k_q_t_plotter.html#ae31c276a93cbf7aa8f9c153327aa5b74">JKQTPlotter::getDatastore</a></div><div class="ttdeci">JKQTPDatastore * getDatastore()</div><div class="ttdoc">returns a pointer to the datastore used by this object</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:621</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_aebce042360ddc51b50472760ed272f7d"><div class="ttname"><a href="class_j_k_q_t_plotter.html#aebce042360ddc51b50472760ed272f7d">JKQTPlotter::redrawPlot</a></div><div class="ttdeci">void redrawPlot()</div><div class="ttdoc">update the plot and the overlays</div></div>
</div><!-- fragment --><p>...along with a <span class="tt"><a class="el" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html" title="class to plot an image from an 2-dimensional array of values">JKQTPMathImageColorPaletteComboBox</a></span> to select a colormap and redraw the plot:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html">JKQTPMathImageColorPaletteComboBox</a>* cmbPalette=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html">JKQTPMathImageColorPaletteComboBox</a>(&amp;win);</div>
<div class="line"><span class="comment">// ... </span></div>
<div class="line">plot-&gt;connect(cmbPalette, &amp;<a class="code hl_signal" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#af254c526cb22fa86498220c8cf70c229">JKQTPMathImageColorPaletteComboBox::currentPaletteChanged</a>,[&amp;](<a class="code hl_enumeration" href="group__jkqtplotter__imagelots__tools.html#gaae2f1de8b42bb1734243b4201f4aa72d">JKQTPMathImageColorPalette</a> p) { graph-&gt;<a class="code hl_function" href="class_j_k_q_t_p_color_palette_style_and_tools_mixin.html#af4d4684e560361e2a31c503a7ddcae61">setColorPalette</a>(p); plot-&gt;<a class="code hl_slot" href="class_j_k_q_t_plotter.html#aebce042360ddc51b50472760ed272f7d">redrawPlot</a>(); });</div>
<div class="line">cmbPalette-&gt;<a class="code hl_function" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#a32cda9650a85354cba07690aee882e95">setCurrentColorPalette</a>(graph-&gt;getPalette());</div>
</div><!-- fragment --><p>It also adds two <span class="tt">QPushButton</span>s that allow to save the current or all registered color-palettes to small PNG-Files:</p>
<div class="fragment"><div class="line">QPushButton* btnSavePal=<span class="keyword">new</span> QPushButton(QObject::tr(<span class="stringliteral">&quot;save current palette&quot;</span>), &amp;win);</div>
<div class="line">btnSavePal-&gt;connect(btnSavePal, &amp;QPushButton::clicked, [&amp;]() {</div>
<div class="line">    <span class="keyword">auto</span> img=<a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#ad2da30745fde243b3369b859c56d6c63">JKQTPImageTools::GetPaletteImage</a>(cmbPalette-&gt;<a class="code hl_function" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#aa22f049b565c889d9569dc6513a26ed9">currentColorPalette</a>(), <a class="code hl_variable" href="struct_j_k_q_t_p_image_tools.html#ae0bf98fa4c6b14f0a5426c741d8094a4">JKQTPImageTools::LUTSIZE</a>, 16);</div>
<div class="line">    img.save(<a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#a3f6bd8c48baa91f430603dc21db8870d">JKQTPImageTools::JKQTPMathImageColorPalette2String</a>(cmbPalette-&gt;<a class="code hl_function" href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#aa22f049b565c889d9569dc6513a26ed9">currentColorPalette</a>())+<span class="stringliteral">&quot;.png&quot;</span>);</div>
<div class="line">});</div>
<div class="line">lay-&gt;addWidget(btnSavePal);</div>
<div class="line">QPushButton* btnSaveAllPal=<span class="keyword">new</span> QPushButton(QObject::tr(<span class="stringliteral">&quot;save all palettes&quot;</span>), &amp;win);</div>
<div class="line">btnSavePal-&gt;connect(btnSaveAllPal, &amp;QPushButton::clicked, [&amp;]() {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pn: <a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#aeb3c6ce849d0b7c7309b858bf2faf8ef">JKQTPImageTools::getPredefinedPalettes</a>()) {</div>
<div class="line">        <span class="keyword">auto</span> p=<a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#a971bae64a802f7f580690f07b5c72167">JKQTPImageTools::String2JKQTPMathImageColorPalette</a>(pn);</div>
<div class="line">        <span class="keyword">auto</span> img=<a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#ad2da30745fde243b3369b859c56d6c63">JKQTPImageTools::GetPaletteImage</a>(p, <a class="code hl_variable" href="struct_j_k_q_t_p_image_tools.html#ae0bf98fa4c6b14f0a5426c741d8094a4">JKQTPImageTools::LUTSIZE</a>, 16);</div>
<div class="line">        img.save(<span class="stringliteral">&quot;palette_&quot;</span>+<a class="code hl_function" href="struct_j_k_q_t_p_image_tools.html#a3f6bd8c48baa91f430603dc21db8870d">JKQTPImageTools::JKQTPMathImageColorPalette2String</a>(p)+<span class="stringliteral">&quot;.png&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="line">lay-&gt;addWidget(btnSaveAllPal);</div>
<div class="ttc" id="aclass_j_k_q_t_p_math_image_color_palette_combo_box_html_aa22f049b565c889d9569dc6513a26ed9"><div class="ttname"><a href="class_j_k_q_t_p_math_image_color_palette_combo_box.html#aa22f049b565c889d9569dc6513a26ed9">JKQTPMathImageColorPaletteComboBox::currentColorPalette</a></div><div class="ttdeci">JKQTPMathImageColorPalette currentColorPalette() const</div></div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_a3f6bd8c48baa91f430603dc21db8870d"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#a3f6bd8c48baa91f430603dc21db8870d">JKQTPImageTools::JKQTPMathImageColorPalette2String</a></div><div class="ttdeci">static JKQTCOMMON_LIB_EXPORT QString JKQTPMathImageColorPalette2String(JKQTPMathImageColorPalette p)</div><div class="ttdoc">convert the palette p to a machine-readable string</div></div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_a971bae64a802f7f580690f07b5c72167"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#a971bae64a802f7f580690f07b5c72167">JKQTPImageTools::String2JKQTPMathImageColorPalette</a></div><div class="ttdeci">static JKQTCOMMON_LIB_EXPORT JKQTPMathImageColorPalette String2JKQTPMathImageColorPalette(const QString &amp;p)</div><div class="ttdoc">convert the palette name p to JKQTPMathImageColorPalette (compatible with JKQTPImageTools::String2JKQ...</div></div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_ad2da30745fde243b3369b859c56d6c63"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#ad2da30745fde243b3369b859c56d6c63">JKQTPImageTools::GetPaletteImage</a></div><div class="ttdeci">static JKQTCOMMON_LIB_EXPORT QImage GetPaletteImage(int i, int width)</div><div class="ttdoc">generates a QImage with width width and height 1 for the i-th color palette (i is based on the list r...</div></div>
<div class="ttc" id="astruct_j_k_q_t_p_image_tools_html_aeb3c6ce849d0b7c7309b858bf2faf8ef"><div class="ttname"><a href="struct_j_k_q_t_p_image_tools.html#aeb3c6ce849d0b7c7309b858bf2faf8ef">JKQTPImageTools::getPredefinedPalettes</a></div><div class="ttdeci">static QStringList JKQTCOMMON_LIB_EXPORT getPredefinedPalettes()</div><div class="ttdoc">return a list of all globally available LUTs, human-readable/localized form</div></div>
</div><!-- fragment --><p>The whole program looks like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/imageplot_userpal_program.png" alt="imageplot_userpal_program" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
