<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Example (JKQTPlotter): Vector Field Plot Example</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_j_k_q_t_p_parametrized_vector_field_graph_example.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Example (JKQTPlotter): Vector Field Plot Example </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_examples_2paramvectorfield_2_r_e_a_d_m_e"></a></p>
<p>This project (see <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/paramvectorfield"><span class="tt">paramvectorfield</span></a> demonstrates the use of <a class="el" href="class_j_k_q_t_p_parametrized_vector_field_graph.html" title="This graph plots a vector field, i.e. a set of vectors (dx,dy) or (angle,length) at positions (x,...">JKQTPParametrizedVectorFieldGraph</a> to visualize a vector field with additional information encoded in the color of the vectors.</p>
<p>The source code of the main application is (see <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/paramvectorfield/paramvectorfield.cpp"><span class="tt">paramvectorfield.cpp</span></a>.</p>
<p>Here is a short summary of the important parts of the code:</p>
<div class="fragment"><div class="line"><span class="comment">// 1. setup a plotter window and get a pointer to the internal datastore (for convenience)</span></div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_plotter.html">JKQTPlotter</a> plot;</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a>* ds=plot.<a class="code hl_function" href="class_j_k_q_t_plotter.html#ae31c276a93cbf7aa8f9c153327aa5b74">getDatastore</a>();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// 2. make up some arbitrary data to be used for plotting</span></div>
<div class="line"><span class="comment">//    this generates a 2D grid of x/y-coordinates and then calculates dx=cos(y)*sqrt(x/3.0) and dy=sin(x)*sqrt(x/3.0)</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> columnXY=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#aaf018b1c809f2c4a0a0f5fbb26bbc933">addLinearGridColumns</a>(NX, 0, 6, NY, -3, 3,<span class="stringliteral">&quot;x&quot;</span>,<span class="stringliteral">&quot;y&quot;</span>);</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> columnDX=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#ae8debb9537ffadd6e805ef8123964e08">addCalculatedColumnFromColumn</a>(columnXY.first, columnXY.second, [](<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y) { return sin(y)*sqrt(x/3.0); });</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> columnDY=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#ae8debb9537ffadd6e805ef8123964e08">addCalculatedColumnFromColumn</a>(columnXY.first, columnXY.second, [](<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y) { return cos(x)*sqrt(x/3.0); });</div>
<div class="line"><span class="comment">// now we also calulate a column that encodes some other information that can be color-coded</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> columnC=ds-&gt;<a class="code hl_function" href="class_j_k_q_t_p_datastore.html#ae8debb9537ffadd6e805ef8123964e08">addCalculatedColumnFromColumn</a>(columnXY.first, columnXY.second, [](<span class="keywordtype">double</span> x,<span class="keywordtype">double</span> y) { return sqrt(fabs(y)); });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// 3. create JKQTPVectorFieldGraph to display the data:</span></div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_parametrized_vector_field_graph.html">JKQTPParametrizedVectorFieldGraph</a>* graph1=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_parametrized_vector_field_graph.html">JKQTPParametrizedVectorFieldGraph</a>(&amp;plot);</div>
<div class="line">graph1-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_graph.html#a972ee50c53accadade8880b3bd1110cc">setXYColumns</a>(columnXY);</div>
<div class="line">graph1-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_and_vector_graph.html#ae93e10dd061faa4757b7116759c0694e">setDxColumn</a>(columnDX);</div>
<div class="line">graph1-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_x_y_and_vector_graph.html#ac9d014d0fcf7dc8fe964a2e667ecbfbb">setDyColumn</a>(columnDY);</div>
<div class="line">graph1-&gt;<a class="code hl_function" href="class_j_k_q_t_p_parametrized_vector_field_graph.html#a0c6cbc1f1f431d2820c73ee85dc4393c">setColorColumn</a>(columnC);</div>
<div class="line">graph1-&gt;<a class="code hl_slot" href="class_j_k_q_t_p_plot_element.html#a02a8d7c24cde7768f0134cee1aa1159d">setTitle</a>(QObject::tr(<span class="stringliteral">&quot;$\\vec{f}(x,y)=\\bigl[\\sin(y)\\cdot\\sqrt{x/3}, \\cos(x)\\cdot\\sqrt{x/3}\\bigr]^\\mathrm{T}$&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 4. add the graphs to the plot, so it is actually displayed</span></div>
<div class="line">plot.<a class="code hl_function" href="class_j_k_q_t_plotter.html#a63a54c5342d664c35ffb3d532ba26b99">addGraph</a>(graph1);</div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a></div><div class="ttdoc">This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...</div><div class="ttdef"><b>Definition</b> jkqtpdatastorage.h:282</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_aaf018b1c809f2c4a0a0f5fbb26bbc933"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#aaf018b1c809f2c4a0a0f5fbb26bbc933">JKQTPDatastore::addLinearGridColumns</a></div><div class="ttdeci">std::pair&lt; size_t, size_t &gt; addLinearGridColumns(size_t width, double startX, double endX, size_t height, double startY, double endY, const QString &amp;nameX=QString(&quot;&quot;), const QString &amp;nameY=QString(&quot;&quot;))</div><div class="ttdoc">add two columns to the datastore that contains the x- and y- coordinates of a rectangular grid with w...</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_datastore_html_ae8debb9537ffadd6e805ef8123964e08"><div class="ttname"><a href="class_j_k_q_t_p_datastore.html#ae8debb9537ffadd6e805ef8123964e08">JKQTPDatastore::addCalculatedColumnFromColumn</a></div><div class="ttdeci">size_t addCalculatedColumnFromColumn(size_t otherColumn, const std::function&lt; double(double)&gt; &amp;f, const QString &amp;name=QString(&quot;&quot;))</div><div class="ttdoc">add a column with the same number of entries, as in the other column otherColumn ,...</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_parametrized_vector_field_graph_html"><div class="ttname"><a href="class_j_k_q_t_p_parametrized_vector_field_graph.html">JKQTPParametrizedVectorFieldGraph</a></div><div class="ttdoc">This graph plots a vector field, i.e. a set of vectors (dx,dy) or (angle,length) at positions (x,...</div><div class="ttdef"><b>Definition</b> jkqtpvectorfield.h:286</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_parametrized_vector_field_graph_html_a0c6cbc1f1f431d2820c73ee85dc4393c"><div class="ttname"><a href="class_j_k_q_t_p_parametrized_vector_field_graph.html#a0c6cbc1f1f431d2820c73ee85dc4393c">JKQTPParametrizedVectorFieldGraph::setColorColumn</a></div><div class="ttdeci">void setColorColumn(int __value)</div><div class="ttdoc">this column contains the symbol color</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_plot_element_html_a02a8d7c24cde7768f0134cee1aa1159d"><div class="ttname"><a href="class_j_k_q_t_p_plot_element.html#a02a8d7c24cde7768f0134cee1aa1159d">JKQTPPlotElement::setTitle</a></div><div class="ttdeci">virtual void setTitle(const QString &amp;__value)</div><div class="ttdoc">sets the title of the plot (for display in key!).</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_and_vector_graph_html_ac9d014d0fcf7dc8fe964a2e667ecbfbb"><div class="ttname"><a href="class_j_k_q_t_p_x_y_and_vector_graph.html#ac9d014d0fcf7dc8fe964a2e667ecbfbb">JKQTPXYAndVectorGraph::setDyColumn</a></div><div class="ttdeci">void setDyColumn(int col)</div><div class="ttdoc">the column that contains the delta along the y-axis.</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_and_vector_graph_html_ae93e10dd061faa4757b7116759c0694e"><div class="ttname"><a href="class_j_k_q_t_p_x_y_and_vector_graph.html#ae93e10dd061faa4757b7116759c0694e">JKQTPXYAndVectorGraph::setDxColumn</a></div><div class="ttdeci">void setDxColumn(int col)</div><div class="ttdoc">the column that contains the delta along the x-axis.</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_graph_html_a972ee50c53accadade8880b3bd1110cc"><div class="ttname"><a href="class_j_k_q_t_p_x_y_graph.html#a972ee50c53accadade8880b3bd1110cc">JKQTPXYGraph::setXYColumns</a></div><div class="ttdeci">void setXYColumns(size_t xCol, size_t yCol)</div><div class="ttdoc">sets xColumn and yColumn at the same time</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html"><div class="ttname"><a href="class_j_k_q_t_plotter.html">JKQTPlotter</a></div><div class="ttdoc">plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:374</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_a63a54c5342d664c35ffb3d532ba26b99"><div class="ttname"><a href="class_j_k_q_t_plotter.html#a63a54c5342d664c35ffb3d532ba26b99">JKQTPlotter::addGraph</a></div><div class="ttdeci">size_t addGraph(JKQTPPlotElement *gr)</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:796</div></div>
<div class="ttc" id="aclass_j_k_q_t_plotter_html_ae31c276a93cbf7aa8f9c153327aa5b74"><div class="ttname"><a href="class_j_k_q_t_plotter.html#ae31c276a93cbf7aa8f9c153327aa5b74">JKQTPlotter::getDatastore</a></div><div class="ttdeci">JKQTPDatastore * getDatastore()</div><div class="ttdoc">returns a pointer to the datastore used by this object</div><div class="ttdef"><b>Definition</b> jkqtplotter.h:621</div></div>
</div><!-- fragment --><p>The result looks like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/paramvectorfield.png" alt="paramvectorfield" class="inline"/></p>
<p>By default, the color of the drawn vector is determined from the color column provided to the graph object. But you can also choose to not provide a color column and instead set</p>
<div class="fragment"><div class="line">graph1-&gt;<a class="code hl_function" href="class_j_k_q_t_p_parametrized_vector_field_graph.html#aedaac00c3b74f90c2ca07ea8d6a3e578">setVectorColorMode</a>(<a class="code hl_enumvalue" href="class_j_k_q_t_p_parametrized_vector_field_graph.html#afe299968ce15b27adcbc3751549811d4ab65de81b4ad34c64165bcf2eb08986de">JKQTPParametrizedVectorFieldGraph::ColorFromMagnitude</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_parametrized_vector_field_graph_html_aedaac00c3b74f90c2ca07ea8d6a3e578"><div class="ttname"><a href="class_j_k_q_t_p_parametrized_vector_field_graph.html#aedaac00c3b74f90c2ca07ea8d6a3e578">JKQTPParametrizedVectorFieldGraph::setVectorColorMode</a></div><div class="ttdeci">void setVectorColorMode(VectorColorMode __value)</div><div class="ttdoc">indicates how color is determined from data (either from the vector or from m_colorColumn)</div></div>
<div class="ttc" id="aclass_j_k_q_t_p_parametrized_vector_field_graph_html_afe299968ce15b27adcbc3751549811d4ab65de81b4ad34c64165bcf2eb08986de"><div class="ttname"><a href="class_j_k_q_t_p_parametrized_vector_field_graph.html#afe299968ce15b27adcbc3751549811d4ab65de81b4ad34c64165bcf2eb08986de">JKQTPParametrizedVectorFieldGraph::ColorFromMagnitude</a></div><div class="ttdeci">@ ColorFromMagnitude</div><div class="ttdoc">color-coding by vector magnitude/length</div><div class="ttdef"><b>Definition</b> jkqtpvectorfield.h:292</div></div>
</div><!-- fragment --><p>Now the color encodes the actual length (or magnitude) of the vectors:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/doc/images/JKQTPParametrizedVectorFieldGraphColorFromMagnitude.png" alt="paramvectorfield" class="inline"/></p>
<p>Alternatively</p>
<div class="fragment"><div class="line">graph1-&gt;<a class="code hl_function" href="class_j_k_q_t_p_parametrized_vector_field_graph.html#aedaac00c3b74f90c2ca07ea8d6a3e578">setVectorColorMode</a>(<a class="code hl_enumvalue" href="class_j_k_q_t_p_parametrized_vector_field_graph.html#afe299968ce15b27adcbc3751549811d4a085e90afecd55313ab0c2a9b24ead6fc">JKQTPParametrizedVectorFieldGraph::ColorFromAngle</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_parametrized_vector_field_graph_html_afe299968ce15b27adcbc3751549811d4a085e90afecd55313ab0c2a9b24ead6fc"><div class="ttname"><a href="class_j_k_q_t_p_parametrized_vector_field_graph.html#afe299968ce15b27adcbc3751549811d4a085e90afecd55313ab0c2a9b24ead6fc">JKQTPParametrizedVectorFieldGraph::ColorFromAngle</a></div><div class="ttdeci">@ ColorFromAngle</div><div class="ttdoc">color-coding by vector angle</div><div class="ttdef"><b>Definition</b> jkqtpvectorfield.h:293</div></div>
</div><!-- fragment --><p>will color-encode the rotation angle (in radians, 3 o'clock is 0rad) of the vectors:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/doc/images/JKQTPParametrizedVectorFieldGraphColorFromAngle.png" alt="paramvectorfield" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
